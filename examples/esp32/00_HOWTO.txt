[ESP32]

- download latest micropython firmware for your board
  http://micropython.org/download#esp32

- within host system install python3
- install esptool, rshell, ampy to communicate with esp32 board
    sudo pip3 install esptool
    sudo pip3 install rshell
    sudo pip3 install adafruit-ampy

- connect board via USB and run 'dmesg | grep tty' that will show ttyUSB connection port
  this port will be used later for all communication operations

- check board flash status:
    esptool.py --port /dev/ttyUSB0 flash_id

- erase board flash before new firmware uploading
    esptool.py --chip esp32 --port /dev/ttyUSB0 erase_flash

- burn new firmware
    ex.  esptool.py --chip esp32 --port /dev/ttyUSB0 write_flash -z 0x1000 esp32spiram-20190125-v1.10.bin

- after burn again we can check flash status
    esptool.py --port /dev/ttyUSB0 flash_id

- for board communicate operations rshell (optionally screen tool) can be used
     rshell --buffer-size=30 -p /dev/ttyUSB0
     after board prompt appears ">" you will have access to some board commands:
     args      cat       connect   echo      exit      filetype  ls        repl      rsync
     boards    cd        cp        edit      filesize  help      mkdir     rm        shell

- use repl ( aka ipython for micropython) to start python interactive shell
  also this shell can be used for board reboots ( Ctrl+D  and Ctrl+B)

- ampy utility can be used for storing/deleting device files; dir creation/removing; scripts run
    typical scenario:
        export AMPY_PORT=/dev/ttyUSB0
        ampy mkdir /lib
        ampy put blynklib.py /lib/blynklib.py
        ampy put test.py test.py
        ampy run test.py


- to decrease blynk or other libraries size you can use mpy-cross tool to get *.mpy files:
    git clone https://github.com/micropython/micropython.git
    cd micropython/mpy-cross
    make

    optionally get heapsize of your board (in repl type such commands):
        >>> import gc
        >>> gc.collect()
        >>> gc.mem_free()
        ex result = 2812256

    obtained value can be used for mpy-cross:
        ex. ./mpy-cross -X heapsize=2812256 blynklib.py

    *.mpy files in the same manner can be placed to libs with ampy as usual *.py file
        ampy put blynklib.mpy /lib/blynklib.mpy

